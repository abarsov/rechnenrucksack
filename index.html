<!DOCTYPE html>
<html ng-app="EquationsGenerator">
<head>
  <meta charset="utf-8">
  <link href="https://fonts.googleapis.com/css?family=Neucha" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=PT+Sans" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Indie+Flower" rel="stylesheet">
  <script src="angular.min.js"></script>
  <script src="pdfmake.min.js"></script>
  <script src="vfs_fonts.js"></script>
  <script src="arithmetic.js"></script>
  <script src="generator.js"></script>
  <script src="main.js"></script>
  <link rel="stylesheet" href="css/styles.css">
  <title>Equations generator</title>
</head>
<body ng-controller='EquationsGeneratorController as equationsGenerator' >
  <header><h1>РЮКЗАК ЗАДАНИЙ</h1></header>
  <div style='padding:0px;margin:0px;' id="input" ng-show="equationsGenerator.equations.length===0">
  <div id="intro" ng-init="equationsGenerator.initializeExample()"><br>
    <table><tr><td width="500">Уважаемые родители и педагоги! С помощью "Рюкзака заданий" вы можете генерировать задания по арифметике различной сложности в виде карты поиска клада и сохранять их в формате pdf для распечатки.</td>
      <td><canvas id="treasureMapExample" height="220" width="450" ></td></tr></table>
  </div>
  <table>  <tr><td><input type="range" id="complexityRange" ng-model="equationsGenerator.advancedComplexity.value" min="0" max="3" step="1" ng-change="equationsGenerator.advancedComplexityChange()"/><br>
    </td></tr><tr><td>
  <table id="complexityTable"><tr>
    <td><div id="complexityChoice">
      <h4>Числа в примерах</h4>
        <input type="radio" ng-model="equationsGenerator.complexity" value="10"
                ng-change="equationsGenerator.alterComplexity()">В пределах 10<br>
        <input type="radio" ng-model="equationsGenerator.complexity" value="25"
                ng-change="equationsGenerator.alterComplexity()">В пределах 25<br>
        <input type="radio" ng-model="equationsGenerator.complexity" value="99"
                ng-change="equationsGenerator.alterComplexity()">В пределах 100</div></td>
      <td><div id="fieldSizeChoice"><h4>Размер поля</h4>
        <input type="radio" ng-model="equationsGenerator.fieldSize" value="5" ng-change="equationsGenerator.alterComplexity()">5 клеток<br>
        <input type="radio" ng-model="equationsGenerator.fieldSize" value="10" ng-change="equationsGenerator.alterComplexity()">10 клеток<br>
      </div></td>
        <td><div id="equationsAmountChoice"><h4>Количество примеров</h4>
          <p><input type="radio" ng-model="equationsGenerator.equationsAmount" value="6">6</p>
          <p><input type="radio" ng-model="equationsGenerator.equationsAmount" value="8">8</p>
          <p ng-hide="((equationsGenerator.complexity<=10)||(equationsGenerator.fieldSize<10))"><input type="radio"ng-model="equationsGenerator.equationsAmount" value="10">10</p>
        </div></td>


  <td><h4>Арифметические операции</h4>
  <div id="operationsChoice" ng-repeat="operation in equationsGenerator.operations">
      <p ng-hide="((operation.code==='*')||(operation.code===':'))&&((equationsGenerator.complexity<=10)||(equationsGenerator.fieldSize<10))"><input type="checkbox"
       value="{{operation.code}}" ng-model="operation.selected"
       ng-change="equationsGenerator.alterOperations()"> {{operation.value}} </p>
    </div><br></td></tr></table></td></tr>
</table>

    <button ng-click="equationsGenerator.createEquations()" ng-disabled="!equationsGenerator.generationAllowed">ПОЛУЧИТЬ КАРТУ</button>
  </div>
    <div style='padding:0px;margin:0px;' id="output" ng-show="equationsGenerator.equations.length!==0">
      <table><tr><td>
        <canvas id="treasureMapC" height="520" width="520"></canvas></td>
    <td>
    <div id="equationsList">
      <p>Пираты закопали клад под камнем, но под каким? Для того, чтобы найти нужный камень, реши примеры и двигайся в указанном направлении, начиная из центра.   </p>
      <ol>
        <li ng-repeat="equation in equationsGenerator.equations">
          {{ equation.strValue }}
        </li>
      </ol>
  </div>
  <div id="buttons"><button ng-click="equationsGenerator.print()">СОХРАНИТЬ PDF</button>
    <button ng-click="equationsGenerator.reset()">НАЗАД</button></div></td></tr></table>

  </div>

  <div id="errorMessage">
    {{equationsGenerator.errorMessage}}
  </div>


</body>
</html>
